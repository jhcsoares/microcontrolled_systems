; gpio.s
; Desenvolvido para a placa EK-TM4C1294XL
; João Henrique - Denise
; 19/03/2018

; -------------------------------------------------------------------------------
        THUMB                        ; Instruções do tipo Thumb-2
; -------------------------------------------------------------------------------
; Declarações EQU - Defines
; ========================
;RAM
MAIN_STATE				EQU	   0X2000041C
LCD_CHAR				EQU	   0x20000401
LCD_NEW_WORD			EQU	   0x20000402
LCD_CHAR_COUNTER		EQU	   0x20000403
KEYBOARD_DIGIT			EQU	   0x20000404
USER_PASSWORD_P1		EQU	   0X20000405
USER_PASSWORD_P2		EQU	   0X20000406
USER_PASSWORD_P3		EQU	   0X20000407
USER_PASSWORD_P4		EQU	   0X20000408
LOGIN_USER_PASSWORD_P1	EQU	   0X20000409
LOGIN_USER_PASSWORD_P2	EQU	   0X2000040A
LOGIN_USER_PASSWORD_P3	EQU	   0X2000040B
LOGIN_USER_PASSWORD_P4	EQU	   0X2000040C
LOGIN_ATTEMPTS			EQU	   0X2000040D
GOTO_STATE_5_B			EQU	   0X2000040E
MASTER_PASSWORD_P1		EQU	   0X2000040F
MASTER_PASSWORD_P2		EQU	   0X20000410
MASTER_PASSWORD_P3		EQU	   0X20000411
MASTER_PASSWORD_P4		EQU	   0X20000412
USER_PASSWORD_SET_P1	EQU	   0X20000413
USER_PASSWORD_SET_P2	EQU	   0X20000414
USER_PASSWORD_SET_P3	EQU	   0X20000415
USER_PASSWORD_SET_P4	EQU	   0X20000416
MASTER_PASSWORD_SET_P1	EQU	   0X20000417
MASTER_PASSWORD_SET_P2	EQU	   0X20000418
MASTER_PASSWORD_SET_P3	EQU	   0X20000419
MASTER_PASSWORD_SET_P4	EQU	   0X2000041A
GOTO_STATE_5_D			EQU	   0X2000041B
; -------------------------------------------------------------------------------
; Área de Código - Tudo abaixo da diretiva a seguir será armazenado na memória de 
;                  código
        AREA    |.text|, CODE, READONLY, ALIGN=2




		; Se alguma função do arquivo for chamada em outro arquivo	
        EXPORT Ram_Init
			
;		EXPORT MAIN_STATE
;		EXPORT LCD_CHAR
;		EXPORT LCD_NEW_WORD
;		EXPORT LCD_CHAR_COUNTER
;		EXPORT KEYBOARD_DIGIT
;		EXPORT USER_PASSWORD_P1
;		EXPORT USER_PASSWORD_P2
;		EXPORT USER_PASSWORD_P3
;		EXPORT USER_PASSWORD_P4
;		EXPORT USER_PASSWORD_SET_P1
;		EXPORT USER_PASSWORD_SET_P2
;		EXPORT USER_PASSWORD_SET_P3
;		EXPORT USER_PASSWORD_SET_P4
;		EXPORT MASTER_PASSWORD_P1
;		EXPORT MASTER_PASSWORD_P2
;		EXPORT MASTER_PASSWORD_P3
;		EXPORT MASTER_PASSWORD_P4
;		EXPORT MASTER_PASSWORD_SET_P1
;		EXPORT MASTER_PASSWORD_SET_P2
;		EXPORT MASTER_PASSWORD_SET_P3
;		EXPORT MASTER_PASSWORD_SET_P4
;		EXPORT LOGIN_USER_PASSWORD_P1
;		EXPORT LOGIN_USER_PASSWORD_P2
;		EXPORT LOGIN_USER_PASSWORD_P3
;		EXPORT LOGIN_USER_PASSWORD_P4
;		EXPORT LOGIN_ATTEMPTS
;		EXPORT GOTO_STATE_5_B
;		EXPORT GOTO_STATE_5_D
; -------------------------------------------------------------------------------
Ram_Init
	LDR R0, =MAIN_STATE
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LCD_CHAR
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LCD_NEW_WORD
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LCD_CHAR_COUNTER
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =KEYBOARD_DIGIT
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_P1
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_P2
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_P3
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_P4
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_SET_P1
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_SET_P2
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_SET_P3
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =USER_PASSWORD_SET_P4
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LOGIN_USER_PASSWORD_P1
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LOGIN_USER_PASSWORD_P2
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LOGIN_USER_PASSWORD_P3
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LOGIN_USER_PASSWORD_P4
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =LOGIN_ATTEMPTS
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =GOTO_STATE_5_B
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =GOTO_STATE_5_D
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_P1
	MOV R1, #'1'
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_P2
	MOV R1, #'2'
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_P3
	MOV R1, #'3'
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_P4
	MOV R1, #'4'
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_SET_P1
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_SET_P2
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_SET_P3
	MOV R1, #0
	STRB R1, [R0]
	
	LDR R0, =MASTER_PASSWORD_SET_P4
	MOV R1, #0
	STRB R1, [R0]
	
	BX LR
	
	ALIGN                           ; garante que o fim da seção está alinhada 
    END  
